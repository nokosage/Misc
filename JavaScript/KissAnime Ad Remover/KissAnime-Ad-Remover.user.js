// ==UserScript==
// @name        KissAnime Ad Remover
// @namespace   nokosage
// @description Removes ads from KissAnime and bypasses the adblock check
// @author      nokosage
// @include     *//kissanime.*
// @version     2.0.0
// @grant       none
// @updateURL   https://github.com/nokosage/Misc/raw/master/JavaScript/KissAnime%20Ad%20Remover/KissAnime-Ad-Remover.meta.js
// @downloadURL https://github.com/nokosage/Misc/raw/master/JavaScript/KissAnime%20Ad%20Remover/KissAnime-Ad-Remover.user.js
// @icon        data:image/png;base64,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
// ==/UserScript==

'use strict';

setTimeout(function(){
  var iframes = document.querySelectorAll('iframe');
  for (var i = 0; i < iframes.length; i++) {
    if (iframes[i].parentNode.id !== 'disqus_thread') {
      if (iframes[i].nextSibling && iframes[i].nextSibling.nodeName.toLowerCase() === 'a') {
        iframes[i].nextSibling.remove();
      }
      console.log("KissAnime Ad Remover: Removing potential ad iframe:\n" + iframes[i].id);
      iframes[i].remove();
    }
  }
}, 2500);

$('script').each(function(script){
  var el = $('script')[script];
  if (el.src.includes('cloudfront')) {
    console.log("KissAnime Ad Remover: Removing potential ad script:\n" + el.src);
    if (el) {
      el.remove();
    }
  }
});
